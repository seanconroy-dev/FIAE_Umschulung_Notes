## Mittwoch, 14-01-2026_NT_TRE


---
# Netzwerktechnik (TRE) – VLANs und Layer-3-Switching




```mermaid
flowchart TB
  R["Raspberry Pi (Router / L3)<br/>Routing + ACLs<br/>VLAN Grün GW: 192.168.1.1<br/>VLAN Rot GW: 192.168.2.1"]
  SW["VLAN-Switch (L2)<br/>Access: untagged (U)<br/>Uplink: Trunk (T, 802.1Q tagged)"]

  R <-->|"Trunk (T) 802.1Q tagged"| SW

  subgraph VG ["VLAN Grün  192.168.1.0/24"]
    GC["Chef grün"]
    G1["MA1"]
    G2["MA2"]
    G3["MA3"]
    
  end

  subgraph VR ["VLAN Rot  192.168.2.0/24"]
    R4["MA4"]
    R5["MA5"]
    R6["MA6"]
    RC["Chef rot"]
  end

  SW ---|"Access (U)"| G1
  SW ---|"Access (U)"| G2
  SW ---|"Access (U)"| G3
  SW ---|"Access (U)"| GC

  SW ---|"Access (U)"| RC
  SW ---|"Access (U)"| R4
  SW ---|"Access (U)"| R5
  SW ---|"Access (U)"| R6

  %% Farben/Styles
  style VG fill:#d4edda,stroke:#28a745,stroke-width:2px
  style VR fill:#f8d7da,stroke:#dc3545,stroke-width:2px
  style R  fill:#fff3cd,stroke:#ffc107,stroke-width:2px
  style SW fill:#d1ecf1,stroke:#17a2b8,stroke-width:2px

    classDef vlanGreen fill:#d4edda,stroke:#28a745,stroke-width:2px;
    classDef vlanRed fill:#f8d7da,stroke:#dc3545,stroke-width:2px;
    class VG vlanGreen;
    class VR vlanRed;

```
## 8.6 VLAN-Kommunikation ohne Routing


```mermaid
flowchart LR
  A1["MA / Chef (VLAN Grün)"] -->|"L2 Switching (bleibt im VLAN)"| A2["MA / Chef (VLAN Grün)"]

  noteA["Router ist nicht beteiligt<br/>Frames bleiben untagged am Access-Port"]:::note
  A2 --- noteA

    %% Styles
  classDef vlanGreen fill:#d4edda,stroke:#28a745,stroke-width:2px;
  classDef note fill:#f7f7f7,stroke:#bbb,color:#333;

  class A1,A2 vlanGreen;
  class noteA note;

  classDef note fill:#f7f7f7,stroke:#bbb,color:#333;
    class noteA note;



```

```mermaid
flowchart LR
  B1["MA / Chef (VLAN Rot)"] -->|"L2 Switching (bleibt im VLAN)"| B2["MA / Chef (VLAN Rot)"]

  noteB["Router ist nicht beteiligt<br/>Frames bleiben untagged am Access-Port"]:::note
  B2 --- noteB

    %% Styles
  classDef vlanRed fill:#f8d7da,stroke:#dc3545,stroke-width:2px;
  class B1,B2 vlanRed;

  classDef note fill:#f7f7f7,stroke:#bbb,color:#333;
    class noteB note;



```

## 8.7 VLAN-Kommunikation mit Routing

```mermaid
flowchart LR
  C1["Chef grün<br/>(192.168.1.x)"] -->|"1) zum Default-Gateway"| GW1["GW 192.168.1.1<br/>(Router / L3)"]
  GW1 -->|"2) Routing + ggf. ACL"| GW2["Weiterleitung ins VLAN Rot"]
  GW2 -->|"3) ins Ziel-VLAN"| C2["Chef rot<br/>(192.168.2.x)"]

  noteC["Zwischen Switch ↔ Router läuft der Link als Trunk (tagged).<br/>Zu Hosts: Access-Ports (untagged).<br/>Geroutet wird zwischen 192.168.1.0/24 und 192.168.2.0/24."]:::note 
  C2 --- noteC 

   %% Styles
  classDef vlanGreen fill:#d4edda,stroke:#28a745,stroke-width:2px;
  classDef vlanRed   fill:#f8d7da,stroke:#dc3545,stroke-width:2px;
  classDef router    fill:#fff3cd,stroke:#ffc107,stroke-width:2px;
  classDef note      fill:#f7f7f7,stroke:#bbb,color:#333;

  class C1 vlanGreen;
  class C2 vlanRed;
  class GW1,GW2 router;
  class noteC note;

    

  classDef note fill:#f7f7f7,stroke:#bbb,color:#333; 
    class noteC note;

```

## 8.7 Layer-3-Switch (VLAN-Routing)

Ein **Layer-3-Switch** kombiniert Funktionen aus:
- **Layer 2** (Switching, VLANs, MAC-Adressen)
- **Layer 3** (Routing, IP-Weiterleitung)

Er kann VLANs trennen **und gleichzeitig den Datenverkehr zwischen ihnen routen**.  
Damit ersetzt er in vielen Szenarien einen klassischen Router im LAN.

---

## VLAN-Struktur im Beispiel

Im dargestellten Netzwerk existieren zwei logisch getrennte VLANs:

### VLAN Grün
- IP-Netz: 192.168.1.0 /24
- Endgeräte: MA1, MA2, MA3
- Zugeordnetes Team: *Team grün*

### VLAN Rot
- IP-Netz: 192.168.2.0 /24
- Endgeräte: MA4, MA5, MA6
- Zugeordnetes Team: *Team rot*

Die Trennung erfolgt logisch über **VLAN-Tags**, nicht physisch über separate Switches.

---

## Rolle des Layer-3-Geräts (Router / L3-Switch)

Das zentrale Layer-3-Gerät:
- besitzt je VLAN eine IP-Adresse (Gateway)
- führt Routing-Entscheidungen durch
- kann ACLs (Access Control Lists) anwenden
- verändert bei Bedarf VLAN-Tags (Inter-VLAN-Routing)

---

## Kommunikationsfälle

### Fall A – Kommunikation innerhalb VLAN Grün
- Quelle und Ziel befinden sich im selben VLAN
- Switching erfolgt ausschließlich auf Layer 2
- Kein Routing, keine VLAN-Grenzüberschreitung
- Entspricht dem Verhalten eines klassischen VLAN-Switches

### Fall B – Kommunikation innerhalb VLAN Rot
- Analog zu Fall A
- Daten bleiben vollständig innerhalb des roten VLANs
- Keine Beteiligung der Routing-Funktion

### Fall C – Kommunikation zwischen VLANs
- Quelle im grünen VLAN, Ziel im roten VLAN
- Paket erreicht das Layer-3-Gerät
- VLAN-Tag wird entfernt, IP-Paket geroutet
- Neues VLAN-Tag wird gesetzt
- Paket wird ins Ziel-VLAN weitergeleitet

Erst hier wird **Layer-3-Funktionalität aktiv genutzt**.

---

## Kernaussage

- VLANs sorgen für logische Segmentierung eines LANs
- Ohne Routing sind VLANs strikt voneinander getrennt
- Ein Layer-3-Switch ermöglicht kontrollierte Kommunikation zwischen VLANs
- Diese Architektur gilt als **moderne und skalierbare LAN-Segmentierung**

---

## Prüfungsrelevanter Merksatz

Ein Layer-3-Switch trennt VLANs auf Layer 2 und verbindet sie gezielt über Routing auf Layer 3.


<!-- Hier beginnt der Mitschriftsinhalt -->
---
<details style="margin-top: 2em;">
<summary style="font-size: 0.9em; color: #888;">Metadaten anzeigen</summary>
<p style="font-size: 0.85em; color: grey;">
Teil der FIAE-Umschulung (2025-2027) am BFW Muehlenbeck.<br>
Diese Mitschrift entstand im Unterricht am 14.01.2026 mit TRE.<br>
Sie basiert auf gemeinsam erarbeiteten Inhalten und ergaenzenden Uebungsbeispielen vom 14.01.2026.<br><br>
Die Version wurde inhaltlich ueberarbeitet, strukturell optimiert und technisch ergaenzt,<br>
um Lernerfolg, Pruefungsrelevanz und Nachvollziehbarkeit zu foerdern.<br><br>
Oeffentlich dokumentiert zur Wiederholung, Pruefungsvorbereitung und als Orientierungshilfe fuer Dritte.<br><br>
Quelle: Eigene Mitschrift & Unterrichtsinhalte<br>
Autor: Sean Conroy<br>
Lizenz: <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a>
</p>
</details>