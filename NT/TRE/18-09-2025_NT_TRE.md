## Donnerstag, 18-09-2025_NT_TRE

### Thema: Praktische Arbeit mit Managed Switch und VLANs

ZIEL
- Praktisches Verständnis für den Einsatz eines Managed Switch.
- Konfiguration und Test von VLANs mit vier Rechnern.
- Unterschiede zwischen Access- und Trunk-Ports im Hands-on erleben.

---

#### Grundlagen: VLAN
- VLAN = Virtual Local Area Network → logische Netzwerke auf demselben physischen Switch.
- Zweck: Trennung von Broadcast-Domänen, Sicherheit, Strukturierung.
- Jedes VLAN erhält eine VLAN-ID (1–4094).
- Geräte in verschiedenen VLANs können nicht direkt miteinander kommunizieren (außer über Routing).

---

#### Port-Typen
- **Access-Port**: gehört zu genau einem VLAN. Endgeräte (PCs, Drucker) werden daran angeschlossen. Frames sind „untagged“.
- **Trunk-Port**: trägt mehrere VLANs gleichzeitig (meist Switch-Switch oder Switch-Router). Frames erhalten 802.1Q-Tags (4 Byte extra).

---

#### Praxisaufbau im Unterricht
- 4 PCs an einem Managed Switch.
- VLANs angelegt, z. B.:
  - VLAN 10 → PC1 + PC2
  - VLAN 20 → PC3 + PC4
- Ports zu VLANs zugeordnet:
  - Ports für Endgeräte: Access-Mode
  - Verbindungsport (Switch↔Switch oder Switch↔Router): Trunk-Mode
- Tests:
  - Ping zwischen PCs im selben VLAN → erfolgreich.
  - Ping zwischen VLAN 10 und VLAN 20 → nicht möglich (ohne Routing).
- Beobachtung: Netztrennung funktioniert sofort, Broadcasts bleiben im VLAN.

---

#### Beispiel CLI-Befehle (Cisco Syntax)
    enable
    configure terminal

    vlan 10
    name Abteilung_A
    vlan 20
    name Abteilung_B

    interface fastEthernet0/1
      switchport mode access
      switchport access vlan 10

    interface fastEthernet0/2
      switchport mode access
      switchport access vlan 10

    interface fastEthernet0/3
      switchport mode access
      switchport access vlan 20

    interface fastEthernet0/4
      switchport mode access
      switchport access vlan 20

    interface fastEthernet0/24
      switchport mode trunk
      switchport trunk allowed vlan 10,20

    end
    write memory

---

#### Lernpunkte aus der Praxis
- VLAN-Zuordnung ist unabhängig von physischer Nähe → logische Struktur zählt.
- Trunk-Ports sind essenziell, wenn mehrere VLANs über eine Leitung transportiert werden sollen.
- Ohne Router oder Layer-3-Switch ist keine Kommunikation zwischen VLANs möglich („Router-on-a-Stick“ Prinzip).
- „show vlan brief“ und „show interfaces trunk“ sind Diagnosebefehle.
- Unterschied „untagged“ (Access) vs. „tagged“ (Trunk) Frames sichtbar machen.

---

#### Typische Fehlerquellen
- Ports falsch als Access oder Trunk konfiguriert.
- VLAN angelegt, aber keinem Port zugewiesen → keine Wirkung.
- PCs behalten alte ARP/Cache-Einträge → manchmal hilft nur `ipconfig /renew`.
- Routing vergessen, wenn VLANs sich austauschen sollen.

---

#### Übungsdrills
1. Lege VLAN 30 an und weise es einem Port zu. Teste mit einem PC.
2. Ändere den Port eines PCs von VLAN 10 nach VLAN 20. Überprüfe die Erreichbarkeit.
3. Konfiguriere einen zweiten Switch und verbinde beide über einen Trunk-Port.
4. Simuliere eine Router-on-a-Stick-Konfiguration: ein Router mit Subinterfaces für VLAN 10 und 20.

### ASCII-Skizze: Managed Switch mit VLAN 10 & VLAN 20

    PC1 (VLAN 10)           PC2 (VLAN 10)
        |                       |
        |                       |
     [Fa0/1]                 [Fa0/2]
         \                     /
          \                   /
           +-----------------+
           |   Managed       |
           |     Switch      |
           |                 |
     [Fa0/3]                 [Fa0/4]
        |                       |
        |                       |
    PC3 (VLAN 20)           PC4 (VLAN 20)

           [Fa0/24]  (Trunk-Port)
                |
                |  (zu Router oder zweitem Switch)
                |

Legende:
- Ports Fa0/1 und Fa0/2 → Access, VLAN 10 (Abteilung_A).
- Ports Fa0/3 und Fa0/4 → Access, VLAN 20 (Abteilung_B).
- Port Fa0/24 → Trunk, erlaubt VLAN 10 & 20 (802.1Q getaggt).


---
<details style="margin-top: 2em;">
<summary style="font-size: 0.9em; color: #888;">Metadaten anzeigen</summary>
<p style="font-size: 0.85em; color: grey;">
Teil der FIAE-Umschulung (2025-2027) am BFW Muehlenbeck.<br>
Diese Mitschrift entstand im Unterricht am 18.09.2025 mit TRE.<br>
Sie basiert auf gemeinsam erarbeiteten Inhalten und ergÃ¤nzenden Uebungsbeispielen vom 18.09.2025.<br><br>
Die Version wurde inhaltlich Ã¼berarbeitet, strukturell optimiert und technisch ergÃ¤nzt,<br>
um Lernerfolg, Pruefungsrelevanz und Nachvollziehbarkeit zu foerdern.<br><br>
Oeffentlich dokumentiert zur Wiederholung, Pruefungsvorbereitung und als Orientierungshilfe fuer Dritte.<br><br>
Quelle: Eigene Mitschrift & Unterrichtsinhalte<br>
Autor: Sean Conroy<br>
Lizenz: <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a>
</p>
</details>