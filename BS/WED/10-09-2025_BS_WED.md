## Mittwoch, 10-09-2025_BS_WED

### Thema: Benutzer- und Gruppenmanagement in Linux

---

#### Grundidee
- **Benutzerverwaltung**: Jeder User bekommt eine **UID** (User ID).  
  Er kann Mitglied in einer oder mehreren Gruppen sein.  
- **Gruppenverwaltung**: Gruppen dienen zur **gemeinsamen Rechtevergabe**.  
  Anstatt Rechte jedem Nutzer einzeln zu setzen, ordnet man Benutzer einer Gruppe zu.  
- **Systemdateien**:
  - `/etc/passwd` – listet Benutzerinformationen.
  - `/etc/group` – listet Gruppeninformationen.
- **CSV-Struktur** in `/etc/passwd`:  
  `uid:username:gid:info:home:shell`  
  Doppelpunkte (`:`) trennen die Werte.

---

#### Benutzer anlegen
- Mit Home-Verzeichnis:  
  ```bash
  sudo useradd -m -s /bin/bash alice
  sudo passwd alice
  ```
  - `-m` → erstellt `/home/alice`
  - `-s /bin/bash` → setzt Bash als Standard-Shell
  - `passwd` → Passwort setzen  

- Ohne Home-Verzeichnis:  
  ```bash
  sudo useradd bogdan
  ```
  Kein `-m` → es gibt kein `/home/bogdan`.

- Benutzer wechseln:  
  ```bash
  su alice
  ```

---

#### Gruppen
- Alle Gruppen des aktuellen Users anzeigen:  
  ```bash
  groups
  ```
- Gruppen eines bestimmten Users anzeigen:  
  ```bash
  groups alice
  id alice
  ```
- **Primäre Gruppe**: Standardgruppe, meist identisch mit dem Benutzernamen.  
- **Sekundäre Gruppen**: weitere Gruppen, z. B. für Projektarbeit oder Ressourcenzugriff.

---

#### Gruppen erstellen & verwalten
- Neue Gruppe anlegen:  
  ```bash
  sudo groupadd matheprojekt
  ```
- Benutzer einer Gruppe hinzufügen:  
  ```bash
  sudo usermod -aG matheprojekt alice
  ```
  - `-a` (append) → fügt Gruppenmitgliedschaft hinzu  
  - `-G` (groups) → Liste der Sekundärgruppen  
  ⚠️ Ohne `-a` werden alle bisherigen Sekundärgruppen überschrieben.

---

#### Superuser & sudo
- Temporär Root-Rechte erlangen:  
  ```bash
  sudo su
  ```
- Benutzer zur sudo-Gruppe hinzufügen:  
  ```bash
  sudo usermod -aG sudo alice
  ```
- Ergebnis: Alice darf Befehle mit `sudo` ausführen.

---

#### Benutzer löschen
- Benutzerkonto und Home-Verzeichnis entfernen:  
  ```bash
  sudo userdel -r username
  ```
  (`-r` = remove home + Mailspool)  

- Wenn nur Home manuell gelöscht wird:  
  ```bash
  sudo rm -rf /home/username
  sudo userdel username
  ```

---

#### Weitere Optionen
- Home-Verzeichnis ändern:  
  ```bash
  sudo usermod -d /neuer/pfad username
  ```
- Gruppenmitgliedschaften prüfen:  
  ```bash
  groups alice
  id alice
  ```

---

### Beispielaufgaben (aus dem Unterrichtsblatt)
1. Gruppe `matheprojekt` anlegen.  
2. Benutzer `alfred` (mit Home) erstellen.  
3. Benutzer `bogdan` (ohne Home) erstellen.  
4. Benutzer `charles` (mit Home) erstellen.  
5. Passwörter für alle setzen.  
6. Füge `alfred` und `charles` zur Gruppe `matheprojekt` hinzu.  
7. Prüfe mit `groups` und `id`, ob sie korrekt in der Gruppe sind.  

---

#### Merksätze
- **Immer `-aG`** nutzen, wenn man User zu einer Gruppe hinzufügt.  
- **Root-Rechte sparsam einsetzen** – Admin-Aufgaben nur über `sudo`.  
- **Gruppen erleichtern Verwaltung**: ein Befehl für viele User.  
- **Testen nach Änderungen**: `groups` oder `id` verwenden.  

---

<details style="margin-top: 2em;">
<summary style="font-size: 0.9em; color: #888;">Metadaten anzeigen</summary>
<p style="font-size: 0.85em; color: grey;">
Teil der FIAE-Umschulung (2025–2027) am BFW Muehlenbeck.<br>
Diese Mitschrift entstand im Unterricht am 10.09.2025 mit WED.<br>
Sie basiert auf gemeinsam erarbeiteten Inhalten und ergänzenden Übungsbeispielen vom 10.09.2025.<br><br>
Die Version wurde inhaltlich überarbeitet, strukturell optimiert und technisch ergänzt,<br>
um Lernerfolg, Prüfungsrelevanz und Nachvollziehbarkeit zu fördern.<br><br>
Öffentlich dokumentiert zur Wiederholung, Prüfungsvorbereitung und als Orientierungshilfe für Dritte.<br><br>
Quelle: Eigene Mitschrift & Unterrichtsinhalte<br>
Autor: Sean Conroy<br>
Lizenz: <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a>
</p>
</details>
