
## Mittwoch, 10-09-2025_BS_WED

### Thema: Benutzer- und Gruppenmanagement in Linux

#### Wichtige Grundlagen
- **Benutzerverwaltung**: Jeder Nutzer hat eine eigene UID (User ID) und kann Teil von Gruppen sein.
- **Gruppenverwaltung**: Gruppen erleichtern die Rechtevergabe für mehrere Benutzer gleichzeitig.
- **CSV-Format (Beispiel)**:  
  `uid:username:gid:info:home:shell`  
  → `:` dient als **Trenner** für Werte in Systemdateien (z. B. `/etc/passwd` oder `/etc/group`).

---

#### Benutzer anlegen
- Mit Home-Verzeichnis:  
  ```bash
  sudo useradd -m -s /bin/bash alice
  sudo passwd alice
  ```
  - `-m` → erstellt ein Home-Verzeichnis (`/home/alice`)
  - `-s /bin/bash` → setzt die Login-Shell
  - Danach: Passwort setzen mit `passwd`

- Ohne Home-Verzeichnis:  
  ```bash
  sudo useradd bogdan
  ```
  - Kein `-m` → kein `/home/bogdan` wird erstellt

- Benutzer wechseln:  
  ```bash
  su alice
  ```

---

#### Gruppen
- Gruppen anzeigen:  
  ```bash
  groups
  ```
- **Primäre Gruppe**: wird dem Benutzer standardmäßig zugewiesen (oft gleich dem Benutzernamen).
- **Sekundäre Gruppen**: zusätzliche Gruppen für Zugriff auf weitere Ressourcen.
- Mehrere Benutzer in derselben Gruppe → können Dateien einfacher **teilen**.

---

#### Gruppen erstellen
- Neue Gruppe anlegen:  
  ```bash
  sudo groupadd matheprojekt
  ```
- Benutzer zu einer Gruppe hinzufügen:  
  ```bash
  sudo usermod -aG matheprojekt alice
  ```
  - `-a` = **append** → fügt den Benutzer zu bestehenden Gruppen hinzu (ohne andere zu entfernen)  
  - `-G` = **secondary group(s)** → Liste der zusätzlichen Gruppen

⚠️ Ohne `-a`: Benutzer wird aus allen anderen Sekundärgruppen entfernt.

---

#### Superuser & sudo
- Root-Rechte:  
  ```bash
  sudo su
  ```
- Benutzer zu `sudo` hinzufügen:  
  ```bash
  sudo usermod -aG sudo alice
  ```
- Damit erhält der Benutzer Adminrechte.

---

#### Benutzer löschen
- Benutzer + Home-Verzeichnis entfernen:  
  ```bash
  sudo rm -rf /home/username
  sudo userdel username
  ```

---

#### Ergänzende Optionen
- Benutzer Home-Verzeichnis verschieben:  
  ```bash
  sudo usermod -d /neuer/pfad username
  ```
- Gruppenmitgliedschaften überprüfen:  
  ```bash
  groups alice
  id alice
  

---

### Beispielaufgabe (aus dem Unterrichtsblatt)
1. Gruppe `matheprojekt` anlegen  
2. Benutzer `alfred` (mit Home) erstellen  
3. Benutzer `bogdan` (ohne Home) erstellen  
4. Benutzer `charles` (mit Home) erstellen  
5. Passwörter setzen für a
